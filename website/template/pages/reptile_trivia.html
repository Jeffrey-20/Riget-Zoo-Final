
{% extends "pages/base.html" %}
{% block content %}

<div class="container my-5">
  <div class="card shadow-lg border-0 rounded-4 p-4">
    <h2 class="text-center text-success mb-4 fw-bold">üêç Reptile Trivia Quiz</h2>

    {% if score is not None %}
      <div class="alert alert-info text-center fs-5">
        You scored <strong>{{ score }}</strong> out of <strong>{{ total }}</strong>!
        {% if score == total %}
          üêä Outstanding! You‚Äôre a true reptile ranger!
        {% elif score >= total|add:"-2" %}
          ü¶é Nice job! You really know your reptiles!
        {% else %}
          üê¢ Keep exploring ‚Äî reptiles are amazing creatures!
        {% endif %}
      </div>
      <div class="text-center">
        <a href="{% url 'reptile_trivia' %}" class="btn btn-success px-4">Try Again</a>
      </div>
    {% else %}
      <form method="post" class="mt-3">
        {% csrf_token %}
        {% for q in questions %}
          <div class="mb-4 p-3 border rounded bg-light">
            <h5 class="fw-bold">{{ forloop.counter }}. {{ q.question }}</h5>
            {% for option in q.options %}
              <div class="form-check">
                <input class="form-check-input" type="radio" name="question_{{ q.id }}" id="q{{ q.id }}_{{ forloop.counter }}" value="{{ option }}" required>
                <label class="form-check-label" for="q{{ q.id }}_{{ forloop.counter }}">
                  {{ option }}
                </label>
              </div>
            {% endfor %}
          </div>
        {% endfor %}
        <div class="text-center">
          <button type="submit" class="btn btn-success btn-lg px-5">Submit Answers</button>
        </div>
      </form>
    {% endif %}
  </div>
</div>

{% endblock %}
