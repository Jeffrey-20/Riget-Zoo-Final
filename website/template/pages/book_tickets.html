{% extends "pages/base.html" %}
{% load widget_tweaks %}
{% block content %}
{% load static %}

 <style>
        /* CSS for the background image and transparency */
        #welcome-section {
            /* 1. Set the background image */
            background-image: url("{% static 'images/zoo_background.jpg' %}");
            background-size: cover; /* Ensure image covers the area */
            background-position: center;
            background-repeat: no-repeat;
            
            /* 2. Add padding/min-height to make the background visible */
            padding-top: 50px;
            padding-bottom: 50px;
            
            /* 3. Create the transparent overlay using RGBA (Black, 50% opaque) */
            /* This is a shorthand property combining image and overlay color */
            background-image: 
                linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
                url("{% static 'images/zoo_background.jpg' %}");
            
            /* Ensure the text is readable */
            color: white; 
            
            /* 4. Add the transition for a smooth visual effect */
            transition: all 0.5s ease-in-out; 
            opacity: 0.9; /* Slightly reduce opacity for a subtle transparent effect */
        }
        
        /* Optional: Hover effect to demonstrate the transition */
        #welcome-section:hover {
            opacity: 1; 
        }

        /* Ensure the heading text is aligned */
        #welcome-section h1, #welcome-section h3 {
            color: white; /* Ensure text color is white */
            text-shadow: 2px 2px 4px #000000; /* Text shadow for better visibility */
        }
    </style>

    <br>
    
    <div class="text-center" id="welcome-section">
        
        <br>
        
        <hr>
        <br>
        
    </div>
    
    <br>



<div class="container my-5">
  <!-- üêæ Page Header -->
  <div class="text-center mb-5">
    <h1 class="fw-bold text-success">üêò Book Your Zoo Tickets! ü¶í</h1>
    <p class="text-muted fs-5">Plan your visit and get closer to nature‚Äôs most amazing creatures.</p>
  </div>

  {% if ticket_prices %}
  <!-- üéüÔ∏è Ticket Prices Section -->
  <div class="card shadow-sm border-0 mb-4">
    <div class="card-body">
      <h3 class="text-primary mb-3"><i class="bi bi-ticket-perforated"></i> Current Ticket Prices</h3>
      <ul class="list-group list-group-flush">
        {% for name, price in ticket_prices.items %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span class="fw-semibold">{{ name }}</span>
            <span class="badge bg-success fs-6">${{ price }}</span>
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
  {% endif %}

  <!-- ü¶ì Booking Form -->
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-body p-4">
      <h3 class="text-center text-success mb-4">üêæ Reserve Your Spot at the Zoo</h3>

      <form method="post" novalidate>
        {% csrf_token %}

        <!-- üìÖ Booking Date -->
        <div class="mb-3">
          <label class="form-label fw-semibold">{{ form.booking_date.label }}</label>
          {{ form.booking_date|add_class:"form-control" }} 
          {% for error in form.booking_date.errors %}
            <small class="text-danger">{{ error }}</small>
          {% endfor %}
        </div>

        <!-- üéüÔ∏è Ticket Quantities -->
        <div class="row g-3">
          <div class="col-md-4">
            <label class="form-label fw-semibold">{{ form.adult_tickets.label }}</label>
            {{ form.adult_tickets|add_class:"form-control" }}
          </div>
          <div class="col-md-4">
            <label class="form-label fw-semibold">{{ form.child_tickets.label }}</label>
            {{ form.child_tickets|add_class:"form-control" }}
          </div>
          <div class="col-md-4">
            <label class="form-label fw-semibold">{{ form.senior_tickets.label }}</label>
            {{ form.senior_tickets|add_class:"form-control" }}
          </div>
        </div>

        <!-- üë§ Customer Info -->
        <hr class="my-4">
        <h5 class="text-secondary">Your Details</h5>

        <div class="mb-3">
          <label class="form-label fw-semibold">{{ form.customer_name.label }}</label>
          {{ form.customer_name|add_class:"form-control" }}
        </div>
        <div class="mb-3">
          <label class="form-label fw-semibold">{{ form.email.label }}</label>
          {{ form.email|add_class:"form-control" }}
        </div>

        <!-- ‚ö†Ô∏è Non-field Errors -->
        {% if form.non_field_errors %}
        <div class="alert alert-danger mt-3">
          {% for error in form.non_field_errors %}
            <p class="mb-0">{{ error }}</p>
          {% endfor %}
        </div>
        {% endif %}

        <!-- üßæ Buttons -->
        <div class="d-flex justify-content-between align-items-center mt-4">
          <a href="{% url 'cancel_booking' %}" class="btn btn-outline-danger px-4">
            <i class="bi bi-x-circle"></i> Cancel a Booking
          </a>
          <button type="submit" class="btn btn-success px-4">
            <i class="bi bi-calculator"></i> Calculate Price & Book
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
